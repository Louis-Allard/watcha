{"ast":null,"code":"import _toConsumableArray from \"/home/louis/Desktop/Projet2/lille-0219-js-projet2-moviedb/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/louis/Desktop/Projet2/lille-0219-js-projet2-moviedb/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/louis/Desktop/Projet2/lille-0219-js-projet2-moviedb/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/louis/Desktop/Projet2/lille-0219-js-projet2-moviedb/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/louis/Desktop/Projet2/lille-0219-js-projet2-moviedb/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/louis/Desktop/Projet2/lille-0219-js-projet2-moviedb/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/louis/Desktop/Projet2/lille-0219-js-projet2-moviedb/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/louis/Desktop/Projet2/lille-0219-js-projet2-moviedb/src/components/Categorie.jsx\";\nimport React, { Component } from 'react';\nimport Movie2 from \"./Movie2\";\nimport { NavLink } from 'react-router-dom';\nimport $ from \"jquery\";\nimport className from 'classnames';\n\nvar Categorie =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Categorie, _Component);\n\n  function Categorie(props) {\n    var _this;\n\n    _classCallCheck(this, Categorie);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Categorie).call(this, props));\n    _this.state = {\n      movies: [],\n      page: 1\n    };\n    _this.scroll = _this.scroll.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Categorie, [{\n    key: \"scroll\",\n    value: function scroll(direction) {\n      var _this2 = this;\n\n      var far = $(\".scroll\".concat(this.props.scroll)).width() / 2 * direction;\n      var pos = $(\".scroll\".concat(this.props.scroll)).scrollLeft() + far;\n      $(\".scroll\".concat(this.props.scroll)).animate({\n        scrollLeft: pos\n      }, 1000);\n      this.setState({\n        page: this.state.page + 1\n      }, function () {\n        _this2.getMovie();\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getMovie();\n    }\n  }, {\n    key: \"getMovie\",\n    value: function getMovie() {\n      var _this3 = this;\n\n      var baseUrl = this.props.url;\n      fetch(baseUrl + this.state.page).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        var newList = [].concat(_toConsumableArray(_this3.state.movies), _toConsumableArray(data.results));\n\n        _this3.setState({\n          movies: newList\n        });\n      });\n    }\n  }, {\n    key: \"horizontalScroll\",\n    value: function horizontalScroll(event) {\n      var _this4 = this;\n\n      if (event.target.scrollWidth - event.target.scrollLeft < event.target.offsetWidth + 200 && !this.fetching) {\n        this.setState({\n          page: this.state.page + 1\n        }, function () {\n          _this4.getMovie();\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return React.createElement(\"div\", {\n        className: \"container-fluid \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"categoriesName ml-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        className: \"Categoname\",\n        style: {\n          textDecoration: 'none',\n          outline: 'none'\n        },\n        exact: true,\n        to: \"/gallery/\".concat(this.props.type, \"/\").concat(this.props.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, this.props.type)), React.createElement(\"div\", {\n        className: \"mt-5 row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: className(\"scroll\".concat(this.props.scroll, \" col-12 containing\")),\n        onScroll: function onScroll(event) {\n          return _this5.horizontalScroll(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, this.state.movies.map(function (film, idx) {\n        return React.createElement(Movie2, {\n          key: idx,\n          cle: film.id,\n          image: \"https://image.tmdb.org/t/p/w500\" + film.poster_path,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        });\n      })), React.createElement(\"button\", {\n        className: \"prev\",\n        onClick: this.scroll.bind(null, -1),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"\\u276E\"), React.createElement(\"button\", {\n        className: \"next\",\n        onClick: this.scroll.bind(null, 1),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"\\u276F\")));\n    }\n  }]);\n\n  return Categorie;\n}(Component);\n\n;\nexport default Categorie;","map":{"version":3,"sources":["/home/louis/Desktop/Projet2/lille-0219-js-projet2-moviedb/src/components/Categorie.jsx"],"names":["React","Component","Movie2","NavLink","$","className","Categorie","props","state","movies","page","scroll","bind","direction","far","width","pos","scrollLeft","animate","setState","getMovie","baseUrl","url","fetch","then","response","json","data","newList","results","event","target","scrollWidth","offsetWidth","fetching","textDecoration","outline","type","id","horizontalScroll","map","film","idx","poster_path"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Movie2 from \"./Movie2\";\nimport { NavLink } from 'react-router-dom';\nimport $ from \"jquery\";\nimport className from 'classnames'\n\nclass Categorie extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: [],\n      page: 1,      \n    };\n    this.scroll = this.scroll.bind(this)\n  }  \n  scroll(direction){\n    let far = $( `.scroll${this.props.scroll}` ).width()/2*direction;\n    let pos = $(`.scroll${this.props.scroll}`).scrollLeft() + far;\n    $(`.scroll${this.props.scroll}`).animate( { scrollLeft: pos }, 1000)\n        this.setState({\n      page: this.state.page + 1,\n    }, () => {\n      this.getMovie();\n    });\n  };\n  componentDidMount() {\n    this.getMovie();\n  };\n  getMovie() {\n    const baseUrl = this.props.url;\n    fetch(baseUrl + this.state.page)\n      .then(response => response.json())\n      .then(data => {\n        let newList = [...this.state.movies, ...data.results];\n        this.setState({\n          movies: newList\n        });\n      });\n  };\n  horizontalScroll(event) {    \n    if (event.target.scrollWidth - event.target.scrollLeft < event.target.offsetWidth + 200 && !this.fetching) {        \n        this.setState({\n            page: this.state.page + 1,\n        }, () => {\n            this.getMovie();\n        });\n    }\n}\n  render() {\n    return (      \n      <div className=\"container-fluid \">\n        <h2 className=\"categoriesName ml-3\"><NavLink className=\"Categoname\" style={{ textDecoration: 'none', outline: 'none' }} exact to={`/gallery/${this.props.type}/${this.props.id}`}>{this.props.type}</NavLink></h2>\n        <div className=\"mt-5 row\">\n          <div className={ className(`scroll${this.props.scroll} col-12 containing` )} onScroll={event=>this.horizontalScroll(event)}>\n            {this.state.movies.map((film, idx) => {\n              return (\n                <Movie2\n                  key={idx}\n                  cle={film.id}\n                  image={\"https://image.tmdb.org/t/p/w500\" + film.poster_path}\n                />\n              );\n            })}\n          </div>\n          <button className=\"prev\" onClick={this.scroll.bind(null, -1)}>&#10094;</button>\n          <button className=\"next\" onClick={this.scroll.bind(null, 1)}>&#10095;</button>\n        </div>\n      </div>\n      \n    )\n  }\n};\n\nexport default Categorie;\n"]},"metadata":{},"sourceType":"module"}