{"ast":null,"code":"import _classCallCheck from \"/home/louis/Desktop/Projet2/lille-0219-js-projet2-moviedb/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/louis/Desktop/Projet2/lille-0219-js-projet2-moviedb/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/louis/Desktop/Projet2/lille-0219-js-projet2-moviedb/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/louis/Desktop/Projet2/lille-0219-js-projet2-moviedb/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/louis/Desktop/Projet2/lille-0219-js-projet2-moviedb/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/louis/Desktop/Projet2/lille-0219-js-projet2-moviedb/src/components/GalleryFavoris.jsx\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport Movie from \"./Movie\";\n\nvar GalleryFavoris =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(GalleryFavoris, _Component);\n\n  function GalleryFavoris(props) {\n    var _this;\n\n    _classCallCheck(this, GalleryFavoris);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GalleryFavoris).call(this, props));\n    _this.state = {\n      movies: []\n    };\n    return _this;\n  }\n\n  _createClass(GalleryFavoris, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://localhost:5050/favorites/').then(function (response) {\n        var movies = [];\n        response.data.map(function (fav) {\n          var movieId = fav.movie_id;\n          axios.get(\"https://api.themoviedb.org/3/movie/\".concat(movieId, \"?api_key=a8a3380a564299f359c18e52aaa5bc79\")).then(function (response) {\n            var movie = {\n              id: response.data.id,\n              poster_path: response.data.poster_path,\n              genre_ids: response.data.genre_ids\n            };\n            movies.push(movie);\n\n            _this2.setState({\n              movies: movies\n            });\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"title-cat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"My Favorites\"), React.createElement(\"div\", {\n        className: \"gallery-type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, this.state.movies.map(function (film, idx) {\n        return React.createElement(\"div\", {\n          className: \"m-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, React.createElement(Movie, {\n          key: idx,\n          cle: film.id,\n          image: \"https://image.tmdb.org/t/p/w500\" + film.poster_path,\n          genres: film.genre_ids,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }));\n      })))));\n    }\n  }]);\n\n  return GalleryFavoris;\n}(Component);\n\n;\nexport default GalleryFavoris;","map":{"version":3,"sources":["/home/louis/Desktop/Projet2/lille-0219-js-projet2-moviedb/src/components/GalleryFavoris.jsx"],"names":["React","Component","axios","Movie","GalleryFavoris","props","state","movies","get","then","response","data","map","fav","movieId","movie_id","movie","id","poster_path","genre_ids","push","setState","film","idx"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;IAEMC,c;;;;;AACJ,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,wFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE;AADG,KAAb;AAFiB;AAKlB;;;;wCACmB;AAAA;;AAClBL,MAAAA,KAAK,CAACM,GAAN,CAAU,kCAAV,EACGC,IADH,CACQ,UAACC,QAAD,EAAc;AAClB,YAAIH,MAAM,GAAG,EAAb;AACAG,QAAAA,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,UAACC,GAAD,EAAS;AACzB,cAAMC,OAAO,GAAGD,GAAG,CAACE,QAApB;AACAb,UAAAA,KAAK,CAACM,GAAN,8CAAgDM,OAAhD,gDACGL,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB,gBAAMM,KAAK,GAAG;AACZC,cAAAA,EAAE,EAAEP,QAAQ,CAACC,IAAT,CAAcM,EADN;AAEZC,cAAAA,WAAW,EAAER,QAAQ,CAACC,IAAT,CAAcO,WAFf;AAGZC,cAAAA,SAAS,EAAET,QAAQ,CAACC,IAAT,CAAcQ;AAHb,aAAd;AAKAZ,YAAAA,MAAM,CAACa,IAAP,CAAYJ,KAAZ;;AACA,YAAA,MAAI,CAACK,QAAL,CAAc;AACZd,cAAAA,MAAM,EAAEA;AADI,aAAd;AAGD,WAXH;AAYD,SAdD;AAeD,OAlBH;AAmBD;;;6BACQ;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAI,QAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADA,EAEE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKD,KAAL,CAAWC,MAAX,CAAkBK,GAAlB,CAAsB,UAACU,IAAD,EAAOC,GAAP,EAAe;AACpC,eACE;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,KAAD;AACE,UAAA,GAAG,EAAEA,GADP;AAEE,UAAA,GAAG,EAAED,IAAI,CAACL,EAFZ;AAGE,UAAA,KAAK,EAAE,oCAAoCK,IAAI,CAACJ,WAHlD;AAIE,UAAA,MAAM,EAAEI,IAAI,CAACH,SAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF;AAUD,OAXA,CADH,CAFF,CADF,CADF,CADF;AAuBD;;;;EApD0BlB,S;;AAqD5B;AACD,eAAeG,cAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\nimport Movie from \"./Movie\"\n\nclass GalleryFavoris extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: [],\n    };\n  }\n  componentDidMount() {\n    axios.get('http://localhost:5050/favorites/')\n      .then((response) => {\n        let movies = [];\n        response.data.map((fav) => {\n          const movieId = fav.movie_id;\n          axios.get(`https://api.themoviedb.org/3/movie/${movieId}?api_key=a8a3380a564299f359c18e52aaa5bc79`)\n            .then(response => {\n              const movie = {\n                id: response.data.id,\n                poster_path: response.data.poster_path,\n                genre_ids: response.data.genre_ids\n              };\n              movies.push(movie);\n              this.setState({\n                movies: movies\n              });\n            })\n        });\n      });\n  };\n  render() {\n    return (\n      <div>\n        <div className=\"container-fluid\">\n          <div className=\"row\" >\n          <h2 className=\"title-cat\">My Favorites</h2>\n            <div className=\"gallery-type\">\n              {this.state.movies.map((film, idx) => {\n                return (\n                  <div className=\"m-1\">\n                    <Movie\n                      key={idx}\n                      cle={film.id}\n                      image={\"https://image.tmdb.org/t/p/w500\" + film.poster_path}\n                      genres={film.genre_ids}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n};\nexport default GalleryFavoris;"]},"metadata":{},"sourceType":"module"}